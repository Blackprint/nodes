/* Blackprint 
 MIT Licensed */
"use strict";var _Class;if(void 0===window)var window=globalThis;async function imports(t){return"undefined"!=typeof sf&&void 0!==sf.loader?await sf.loader.mjs(t):Promise.all(t.map(t=>import(t)))}imports.task=function(){return"undefined"!=typeof sf&&void 0!==sf.loader?sf.loader.task:null};let Blackprint=window.Blackprint.loadScope({url:import.meta.url,hasInterface:!0,hasDocs:!0}),Context=Blackprint.createContext("Decoration");Context.EventSlot={slot:"my-private-event-slot"},Blackprint.registerNode("Decoration/Group/Default",class extends Blackprint.Node{constructor(t){if(super(t),!Blackprint.Environment.isBrowser)return void this.setInterface();this.setInterface("BPIC/Decoration/Group/Default").title="Default"}imported(t){Blackprint.Environment.isBrowser&&void 0!==t&&(this.iface.data.width=t.width||100,this.iface.data.height=t.height||100,this.iface.data.title=t.title||"",this.iface.data.textContent=t.textContent||"",this.iface.data.color=t.color||"",this.iface.data.fontColor=t.fontColor||"")}syncIn(t,e){"trigger"!==t?null!=this.iface.data[t]&&(this.iface.data[t]=e):"refreshContent"===e&&this.iface.refreshContent({},!0)}}),Blackprint.registerInterface("BPIC/Decoration/Group/Default",class extends Blackprint.Interface{constructor(t){super(t),this.data??={}}refreshContent(){}}),Blackprint.registerNode("Decoration/Text/Notes",class extends Blackprint.Node{constructor(t){if(super(t),!Blackprint.Environment.isBrowser)return void this.setInterface();this.setInterface("BPIC/Decoration/Text/Notes").title="Notes"}imported(t){Blackprint.Environment.isBrowser&&void 0!==t&&(this.iface.data.value=t.value)}syncIn(t,e){"value"===t&&(this.iface.data.value=e)}});var{Port:Port}=Blackprint;await Blackprint.DepsLoader.js({optional:!0,window:["confetti"],local:["canvas-confetti"],cdn:["https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"]}),Blackprint.registerNode("Decoration/Animation/Confetti/Create",((_Class=class extends Blackprint.Node{constructor(t){super(t),this.setInterface().title="Create Confetti"}trigger(){if(!Blackprint.Environment.isBrowser)return;let{ParticleCount:t,StartVelocity:e,Spread:i}=this.input,{x:r,y:n}=this.iface,{offset:a,pos:o}=this.instance.scope("container"),{x:s,y:c}=a,{x:l,y:f}=o;confetti({particleCount:t,startVelocity:e,spread:i,origin:{x:(r+l+s+100)/window.innerWidth,y:(n+f+c)/window.innerHeight}})}}).input={Trigger:Port.Trigger(t=>t.iface.node.trigger()),ParticleCount:Port.Default(Number,100),StartVelocity:Port.Default(Number,30),Spread:Port.Default(Number,360)},_Class));
//# sourceMappingURL=nodes-decoration.mjs.map